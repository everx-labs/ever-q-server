"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.attachCustomResolvers = attachCustomResolvers;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var customResolvers = {
  MessageHeaderIntMsgInfo: ['src', 'dst'],
  MessageHeaderExtInMsgInfo: ['src', 'dst'],
  MessageHeaderExtOutMsgInfo: ['src', 'dst'],
  Account: ['addr'],
  AccountStorage: ['state'],
  BlockExtra: ['out_msg_descr'],
  TransactionDescriptionOrdinary: ['bounce']
};

function attachCustomResolvers(resolvers) {
  var attached = Object.assign({}, resolvers);
  Object.entries(customResolvers).forEach(function (_ref) {
    var _ref2 = (0, _slicedToArray2["default"])(_ref, 2),
        name = _ref2[0],
        fields = _ref2[1];

    var resolver = attached[name];

    if (!resolver) {
      resolver = {};
      attached[name] = resolver;
    }

    fields.forEach(function (field) {
      resolver[field] = function (parent) {
        var value = parent[field];
        return typeof value === 'string' ? (0, _defineProperty2["default"])({}, value, {}) : value;
      };
    });
  });
  return attached;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NlcnZlci9jdXN0b20tcmVzb2x2ZXJzLnYxLmpzIl0sIm5hbWVzIjpbImN1c3RvbVJlc29sdmVycyIsIk1lc3NhZ2VIZWFkZXJJbnRNc2dJbmZvIiwiTWVzc2FnZUhlYWRlckV4dEluTXNnSW5mbyIsIk1lc3NhZ2VIZWFkZXJFeHRPdXRNc2dJbmZvIiwiQWNjb3VudCIsIkFjY291bnRTdG9yYWdlIiwiQmxvY2tFeHRyYSIsIlRyYW5zYWN0aW9uRGVzY3JpcHRpb25PcmRpbmFyeSIsImF0dGFjaEN1c3RvbVJlc29sdmVycyIsInJlc29sdmVycyIsImF0dGFjaGVkIiwiT2JqZWN0IiwiYXNzaWduIiwiZW50cmllcyIsImZvckVhY2giLCJuYW1lIiwiZmllbGRzIiwicmVzb2x2ZXIiLCJmaWVsZCIsInBhcmVudCIsInZhbHVlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsSUFBTUEsZUFBZSxHQUFHO0FBQ3BCQyxFQUFBQSx1QkFBdUIsRUFBRSxDQUFDLEtBQUQsRUFBUSxLQUFSLENBREw7QUFFcEJDLEVBQUFBLHlCQUF5QixFQUFFLENBQUMsS0FBRCxFQUFPLEtBQVAsQ0FGUDtBQUdwQkMsRUFBQUEsMEJBQTBCLEVBQUUsQ0FBQyxLQUFELEVBQVEsS0FBUixDQUhSO0FBSXBCQyxFQUFBQSxPQUFPLEVBQUUsQ0FBQyxNQUFELENBSlc7QUFLcEJDLEVBQUFBLGNBQWMsRUFBRSxDQUFDLE9BQUQsQ0FMSTtBQU1wQkMsRUFBQUEsVUFBVSxFQUFFLENBQUMsZUFBRCxDQU5RO0FBT3BCQyxFQUFBQSw4QkFBOEIsRUFBRSxDQUFDLFFBQUQ7QUFQWixDQUF4Qjs7QUFXQSxTQUFTQyxxQkFBVCxDQUErQkMsU0FBL0IsRUFBMEM7QUFDdEMsTUFBTUMsUUFBUSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYyxFQUFkLEVBQWtCSCxTQUFsQixDQUFqQjtBQUNBRSxFQUFBQSxNQUFNLENBQUNFLE9BQVAsQ0FBZWIsZUFBZixFQUFnQ2MsT0FBaEMsQ0FBd0MsZ0JBQW9CO0FBQUE7QUFBQSxRQUFsQkMsSUFBa0I7QUFBQSxRQUFaQyxNQUFZOztBQUN4RCxRQUFJQyxRQUFRLEdBQUdQLFFBQVEsQ0FBQ0ssSUFBRCxDQUF2Qjs7QUFDQSxRQUFJLENBQUNFLFFBQUwsRUFBZTtBQUNYQSxNQUFBQSxRQUFRLEdBQUcsRUFBWDtBQUNBUCxNQUFBQSxRQUFRLENBQUNLLElBQUQsQ0FBUixHQUFpQkUsUUFBakI7QUFDSDs7QUFDREQsSUFBQUEsTUFBTSxDQUFDRixPQUFQLENBQWUsVUFBQ0ksS0FBRCxFQUFXO0FBQ3RCRCxNQUFBQSxRQUFRLENBQUNDLEtBQUQsQ0FBUixHQUFrQixVQUFDQyxNQUFELEVBQVk7QUFDMUIsWUFBTUMsS0FBSyxHQUFHRCxNQUFNLENBQUNELEtBQUQsQ0FBcEI7QUFDQSxlQUFPLE9BQU9FLEtBQVAsS0FBaUIsUUFBakIsd0NBQStCQSxLQUEvQixFQUF1QyxFQUF2QyxJQUE4Q0EsS0FBckQ7QUFDSCxPQUhEO0FBSUgsS0FMRDtBQU1ILEdBWkQ7QUFhQSxTQUFPVixRQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjdXN0b21SZXNvbHZlcnMgPSB7XG4gICAgTWVzc2FnZUhlYWRlckludE1zZ0luZm86IFsnc3JjJywgJ2RzdCddLFxuICAgIE1lc3NhZ2VIZWFkZXJFeHRJbk1zZ0luZm86IFsnc3JjJywnZHN0J10sXG4gICAgTWVzc2FnZUhlYWRlckV4dE91dE1zZ0luZm86IFsnc3JjJywgJ2RzdCddLFxuICAgIEFjY291bnQ6IFsnYWRkciddLFxuICAgIEFjY291bnRTdG9yYWdlOiBbJ3N0YXRlJ10sXG4gICAgQmxvY2tFeHRyYTogWydvdXRfbXNnX2Rlc2NyJ10sXG4gICAgVHJhbnNhY3Rpb25EZXNjcmlwdGlvbk9yZGluYXJ5OiBbJ2JvdW5jZSddXG59O1xuXG5cbmZ1bmN0aW9uIGF0dGFjaEN1c3RvbVJlc29sdmVycyhyZXNvbHZlcnMpIHtcbiAgICBjb25zdCBhdHRhY2hlZCA9IE9iamVjdC5hc3NpZ24oe30sIHJlc29sdmVycyk7XG4gICAgT2JqZWN0LmVudHJpZXMoY3VzdG9tUmVzb2x2ZXJzKS5mb3JFYWNoKChbbmFtZSwgZmllbGRzXSkgPT4ge1xuICAgICAgICBsZXQgcmVzb2x2ZXIgPSBhdHRhY2hlZFtuYW1lXTtcbiAgICAgICAgaWYgKCFyZXNvbHZlcikge1xuICAgICAgICAgICAgcmVzb2x2ZXIgPSB7fTtcbiAgICAgICAgICAgIGF0dGFjaGVkW25hbWVdID0gcmVzb2x2ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZmllbGRzLmZvckVhY2goKGZpZWxkKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlcltmaWVsZF0gPSAocGFyZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJlbnRbZmllbGRdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8geyBbdmFsdWVdOiB7fSB9IDogdmFsdWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gYXR0YWNoZWQ7XG59XG5cbmV4cG9ydCB7XG4gICAgYXR0YWNoQ3VzdG9tUmVzb2x2ZXJzXG59XG4iXX0=